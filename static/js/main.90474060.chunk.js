(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{153:function(e,t,a){e.exports=a(220)},158:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(158),a(38)),l=a(11),s=a(30),u=a.n(s),m=a(49),d=a(137),p=a(253),h=a(255),f=a(256),E=a(257),b=a(258),v=a(259),g=a(260),y=a(275),O=a(63),C=a(132),S=a.n(C),w=a(41),j=a(70),k=a(31),x=a.n(k),T=(a(71),"https://www.simpleapps.pw"),D=function(e){var t="".concat(T,"/").concat(e);return x()(t,{withCredentials:!0}).then((function(e){return{data:e.data,status:e.status}})).catch((function(e){return console.log("Error in get ".concat(JSON.stringify(e))),{status:e.response.status,data:e.response.data}}))},A=function(e,t){return x.a.post("".concat(T,"/").concat(e),t.data).then((function(e){return{data:Object(j.a)(Object(j.a)({},t.data),{},{id:e.data.id})}}))},F=function(e){return x.a.put("".concat(T,"/api/v1/entrance/login"),e,{withCredentials:!0}).then((function(e){return{data:e}}))},Y=function(){return x.a.get("".concat(T,"/logout"),{withCredentials:!0}).then((function(e){return{data:e}}))},N=function(e,t){return x.a.delete("".concat(T,"/").concat(e,"/").concat(t.id)).then((function(e){return{data:e.data}}))},L=Object(p.a)({drawer:{width:"50%"}});var M=Object(l.f)((function(e){var t=e.history,a=L(),n=r.a.useState(!1),c=Object(d.a)(n,2),o=c[0],l=c[1],s=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}};return r.a.createElement("div",null,r.a.createElement(b.a,{position:"static"},r.a.createElement(v.a,null,r.a.createElement(g.a,{onClick:s(!0),edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(S.a,null)),r.a.createElement(y.a,{anchor:"left",open:o,onClose:s(!1),classes:{paper:a.drawer}},r.a.createElement("div",{style:{marginTop:60},role:"presentation",onClick:s(!1),onKeyDown:s(!1)},r.a.createElement(h.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(i.b,{to:"/"},r.a.createElement(f.a,{button:!0},r.a.createElement(E.a,{primary:"Home"}))),r.a.createElement(i.b,{to:"/login"},r.a.createElement(f.a,{button:!0},r.a.createElement(E.a,{primary:"Login"}))),r.a.createElement(f.a,{button:!0},r.a.createElement(E.a,{primary:"Register"})),r.a.createElement(i.b,{to:"/logout"},r.a.createElement(f.a,{button:!0},r.a.createElement(E.a,{primary:"Logout",onClick:Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:a=e.sent,console.log("logged out ",a),t.push("/");case 5:case"end":return e.stop()}}),e)})))})))))),r.a.createElement(O.a,{variant:"h6",color:"inherit"},"Expense Tracker"))))})),B=a(101),H=a(50),R=a(51),q=a(53),I=a(52),W=Object(p.a)({balance:{marginTop:20}});var J=function(e){var t=e.transactions,a=W(),n=t.reduce((function(e,t){return t.income?e+t.amount:e-t.amount}),0);return r.a.createElement("div",{className:a.balance},r.a.createElement(O.a,{variant:"h6"},"YOUR BALANCE"),r.a.createElement(O.a,{variant:"h4"},"\u20b9",n))},P=a(102),K=a(261),U=Object(p.a)({summary:{padding:20,textAlign:"center"},leftSummary:{borderRight:"2px solid grey"},paper:{marginTop:20}});var z=function(e){var t=e.transactions,a=U(),n=0,c=0;return t.forEach((function(e){e.income?n+=+e.amount:c+=Math.abs(e.amount)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:a.paper},r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:!0,className:"".concat(a.summary," ").concat(a.leftSummary)},r.a.createElement(O.a,{variant:"body1"},"Income"),r.a.createElement(O.a,{variant:"h6",color:"primary"},"\u20b9",n)),r.a.createElement(K.a,{item:!0,xs:!0,className:a.summary},r.a.createElement(O.a,{variant:"body1"},"Expenses"),r.a.createElement(O.a,{variant:"h6",color:"error"},"\u20b9",c)))))},G=a(98),Q=(a(183),Object(p.a)({transaction:{margin:10,display:"flex",justifyContent:"space-between"},transactions:{marginTop:20}}));var V=function(e){var t=e.transaction,a=e.deleteTransaction,n=Q();return r.a.createElement(G.SwipeableList,null,r.a.createElement(G.SwipeableListItem,{swipeRight:{content:r.a.createElement("div",{style:{background:"#f00",color:"#fff"}},"Delete Todo"),action:function(){a(t)}}},r.a.createElement(P.a,{className:n.transaction,key:t.id},r.a.createElement(f.a,null,r.a.createElement(E.a,{primary:t.title,secondary:new Date(t.date).toDateString()}),r.a.createElement(E.a,{primary:"\u20b9".concat(t.income?"":"-").concat(t.amount),style:{textAlign:"end"}})))))};var X=Object(p.a)({transaction:{margin:10,display:"flex",justifyContent:"space-between"},transactions:{marginTop:20,marginBottom:20,overflowY:"auto",maxHeight:520}}),Z=function(e){var t=e.transactions,a=e.deleteTransaction,n=X(),c=t.length<=0?r.a.createElement(O.a,{variant:"h6",style:{textAlign:"center"}},"Add your first todo..."):t.map((function(e){return r.a.createElement(V,{transaction:e,key:e.id,deleteTransaction:a})}));return r.a.createElement("div",{className:n.transactions},r.a.createElement(O.a,{variant:"h6"},"History",r.a.createElement("hr",null)),c)},$=a(262),_=a(263),ee=a(264),te=a(271),ae=a(266),ne=a(267),re=a(273),ce=a(268),oe=a(270),ie=a(136),le=a.n(ie),se=a(272),ue=a(274);var me=function(e){var t=e.open,a=e.onClose,n=function(e){return r.a.createElement(se.a,Object.assign({elevation:6,variant:"filled"},e))},c=function(e,t){"clickaway"!==t&&a()};return r.a.createElement(ue.a,{open:t,autoHideDuration:6e3,onClose:c},r.a.createElement(n,{onClose:c,severity:"success"},"Todo added!"))},de=a(133),pe=a(100),he=function(e){Object(q.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",amount:void 0,income:!1,date:void 0},e.handleDateChange=function(t){e.setState({date:t})},e.handleFormChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handleFormSubmit=function(t){t.preventDefault(),e.props.handleSubmit(e.state),e.setState({title:"",amount:void 0})},e.handleClose=function(){e.props.handleClose(),e.setState({title:"",amount:void 0})},e}return Object(R.a)(a,[{key:"render",value:function(){var e=this,t=this.props.open;return r.a.createElement($.a,{"aria-labelledby":"simple-dialog-title",open:t,onClose:this.handleClose},r.a.createElement(_.a,{id:"simple-dialog-title"},"Add Transaction"),r.a.createElement(ee.a,null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(te.a,{id:"title",label:"Expense",onChange:this.handleFormChange,required:!0,error:!1,fullWidth:!0})),r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(te.a,{id:"amount",label:"Amount",onChange:this.handleFormChange,required:!0,error:!1,fullWidth:!0,type:"number"})),r.a.createElement(K.a,{item:!0,xs:6},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{control:r.a.createElement(re.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(t){return e.setState({income:t.target.checked})}}),label:"Income"}))),r.a.createElement(K.a,{item:!0,xs:6},r.a.createElement(pe.b,{utils:de.a},r.a.createElement(pe.a,{keyboard:!0,placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",value:this.state.date,onChange:this.handleDateChange,animateYearScrolling:!1,autoOk:!0,clearable:!0}))),r.a.createElement(ce.a,{style:{margin:"auto",marginBottom:20},variant:"contained",color:"primary",type:"submit"},"Save")))))}}]),a}(n.Component),fe=function(e){Object(q.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={successOpen:!1,dialogOpen:!1},e.handleSuccessSnackClose=function(){e.setState({successOpen:!1})},e.handleDialogOpen=function(){e.setState({dialogOpen:!0})},e.handleSubmit=function(t){e.props.addTransaction(t),e.setState({dialogOpen:!1,successOpen:!0})},e.handleClose=function(){e.setState({dialogOpen:!1})},e}return Object(R.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(me,{open:this.state.successOpen,onClose:this.handleSuccessSnackClose}),r.a.createElement(he,{handleSubmit:this.handleSubmit,handleClose:this.handleClose,open:this.state.dialogOpen}),r.a.createElement(oe.a,{color:"primary","aria-label":"add",onClick:this.handleDialogOpen,style:{position:"fixed",bottom:20,right:20}},r.a.createElement(le.a,null)))}}]),a}(n.Component);var Ee=function(e){var t=e.open,a=e.onClose,n=function(e){return r.a.createElement(se.a,Object.assign({elevation:6,variant:"filled"},e))},c=function(e,t){"clickaway"!==t&&a()};return r.a.createElement(ue.a,{open:t,autoHideDuration:6e3,onClose:c},r.a.createElement(n,{onClose:c,severity:"error"},"Todo deleted!"))},be=function(e){Object(q.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={transactions:[],deleteSnack:!1},e.componentDidMount=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D("expense");case 2:if(200===(a=t.sent).status){t.next=5;break}return t.abrupt("return",e.props.history.push("/login"));case 5:a=a.data.map((function(e){return{id:e.id,title:e.title,amount:e.amount,income:e.income,date:e.date}})),e.setState({transactions:a});case 7:case"end":return t.stop()}}),t)}))),e.addTransaction=function(){var t=Object(m.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A("expense",{data:a});case 2:n=t.sent,r=[].concat(Object(B.a)(e.state.transactions),[{id:n.data.id,title:n.data.title,amount:n.data.amount,income:n.data.income,date:n.data.date}]),e.setState({transactions:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteTransaction=function(t){N("expense",{id:t.id});var a=Object(B.a)(e.state.transactions);a=a.filter((function(e){return e.id!==t.id})),e.setState({transactions:a,deleteSnack:!0})},e}return Object(R.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{transactions:this.state.transactions}),r.a.createElement(z,{transactions:this.state.transactions}),r.a.createElement(Z,{transactions:this.state.transactions,deleteTransaction:this.deleteTransaction}),r.a.createElement(fe,{addTransaction:this.addTransaction}),r.a.createElement(Ee,{open:this.state.deleteSnack,onClose:this.handleDeleteSnackClose}))}},{key:"handleDeleteSnackClose",value:function(){this.setState({deleteSnack:!1})}}]),a}(n.Component),ve=Object(l.f)(be),ge=function(e){Object(q.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={emailAddress:void 0,password:void 0},e.handleFormChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handleFormSubmit=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,F(e.state);case 3:e.setState({email:void 0,password:void 0}),e.props.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(R.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(te.a,{id:"emailAddress",label:"Email",onChange:this.handleFormChange,required:!0,error:!1,fullWidth:!0,type:"email"})),r.a.createElement(K.a,{item:!0,xs:12},r.a.createElement(te.a,{id:"password",label:"Password",onChange:this.handleFormChange,required:!0,error:!1,fullWidth:!0,type:"password"})),r.a.createElement(ce.a,{style:{margin:"auto",marginBottom:20},variant:"contained",color:"primary",type:"submit"},"Login"))))}}]),a}(n.Component),ye=Object(l.f)(ge);var Oe=function(){return r.a.createElement("div",null,"Register")};var Ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(M,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(ve,null)),r.a.createElement(l.a,{path:"/login"},r.a.createElement(ye,null)),r.a.createElement(l.a,{path:"/register"},r.a.createElement(Oe,null)))))};o.a.render(r.a.createElement(Ce,null),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.90474060.chunk.js.map